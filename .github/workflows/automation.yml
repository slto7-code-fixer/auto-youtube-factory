name: Auto YouTube Factory - Complete Solution

on:
  push:
    branches: [main]
  workflow_dispatch:
    inputs:
      skip_quality_check:
        description: 'Skip quality check?'
        required: false
        default: 'false'

jobs:
  youtube-automation:
    runs-on: ubuntu-latest
    
    steps:
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # 1. Ø³Ø­Ø¨ Ø§Ù„ÙƒÙˆØ¯ Ù…Ù† Ø§Ù„Ø±ÙŠØ¨Ùˆ
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: ğŸ“¥ Checkout repository
        uses: actions/checkout@v3
        with:
          fetch-depth: 0

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # 2. ØªØ«Ø¨ÙŠØª Python 3.10
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: ğŸ Setup Python 3.10
        uses: actions/setup-python@v4
        with:
          python-version: '3.10'

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # 3. Ø¹Ø±Ø¶ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: ğŸ“ Show project structure
        run: |
          echo "=== Project Root ==="
          pwd && ls -la
          echo ""
          echo "=== Agents Directory ==="
          ls -la agents/
          echo ""
          echo "=== Utils Directory ==="
          ls -la utils/ 2>/dev/null || echo "No utils directory"

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # 4. ØªØ«Ø¨ÙŠØª Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: ğŸ“¦ Install dependencies
        run: |
          python -m pip install --upgrade pip
          
          if [ -f "requirements.txt" ]; then
            echo "Installing from requirements.txt..."
            pip install -r requirements.txt
          else
            echo "No requirements.txt, installing common packages..."
            pip install google-auth google-auth-oauthlib google-auth-httplib2 
            pip install google-api-python-client moviepy pillow ffmpeg-python
            pip install numpy imageio imageio-ffmpeg proglog python-dotenv tqdm
          fi
          
          echo "=== Installed Packages ==="
          pip list | head -20

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # 5. Ø¥Ù†Ø´Ø§Ø¡ client_secret.json Ù…Ù† Ø§Ù„Ù€ Secret
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: ğŸ” Create client_secret.json
        env:
          GOOGLE_CLIENT_SECRET: ${{ secrets.GOOGLE_CLIENT_SECRET }}
        run: |
          echo "=== Creating client_secret.json ==="
          
          if [ -z "$GOOGLE_CLIENT_SECRET" ]; then
            echo "âŒ ERROR: GOOGLE_CLIENT_SECRET is empty!"
            echo "Please add GOOGLE_CLIENT_SECRET to repository secrets"
            exit 1
          fi
          
          # Ø­ÙØ¸ Ø§Ù„Ù€ secret ÙÙŠ Ù…Ù„Ù
          echo "$GOOGLE_CLIENT_SECRET" > client_secret.json
          
          # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© JSON
          python -c "
import json
try:
    with open('client_secret.json', 'r') as f:
        data = json.load(f)
    print('âœ… Valid JSON file created')
    print(f'   Keys: {list(data.keys())}')
except Exception as e:
    print(f'âŒ Invalid JSON: {e}')
    exit(1)
"
          
          echo "File size: $(wc -c < client_secret.json) bytes"

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # 6. Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠØ©
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: ğŸ“‚ Create required directories
        run: |
          echo "=== Creating directories ==="
          mkdir -p videos inputs assets logs temp
          echo "âœ… Created: videos/, inputs/, assets/, logs/, temp/"

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # 7. Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„ÙØ§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: ğŸ“ Create sample files
        run: |
          echo "=== Creating sample files ==="
          
          # Ø³ÙƒØ±ÙŠØ¨Øª ØªØ¬Ø±ÙŠØ¨ÙŠ Ø·ÙˆÙŠÙ„
          cat > inputs/sample_script.txt << 'EOF'
ğŸ¬ Welcome to our YouTube Automation Channel!

ğŸ“Œ In this video, we explore how to automate YouTube content creation using Python.

ğŸ”§ Technologies used:
- Python 3.10 for scripting
- MoviePy for video editing
- Google API for YouTube upload
- AI algorithms for content generation

ğŸ“Š This is a comprehensive tutorial that will teach you:
1. How to generate scripts automatically
2. How to create videos from images and text
3. How to upload directly to YouTube
4. How to analyze performance metrics

ğŸ’¡ Pro tips:
- Always add engaging thumbnails
- Include clear call-to-action
- Optimize for SEO with relevant keywords
- Post consistently for algorithm favor

ğŸ™ Please follow our channel for more amazing tutorials about automation and AI.

ğŸ‘ Don't forget to like, subscribe, and hit the bell icon for notifications!

ğŸ”” Turn on notifications so you never miss an update.

ğŸ“ˆ We post new videos every week about:
- Python programming
- AI and machine learning
- Automation techniques
- YouTube growth strategies

ğŸ‰ Thank you for watching! See you in the next video.
EOF
          
          # Ù…Ù„Ù Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠ
          cat > config.json << 'EOF'
{
  "project_name": "Auto YouTube Factory",
  "version": "1.0.0",
  "settings": {
    "quality_threshold": 10,
    "max_video_duration": 600,
    "output_format": "mp4",
    "enable_watermark": true,
    "auto_upload": true
  },
  "channels": {
    "primary": "Automation Channel",
    "backup": "Tech Tutorials"
  }
}
EOF
          
          # Ù…Ù„Ù .env
          cat > .env << 'EOF'
# Auto YouTube Factory Environment Variables
GOOGLE_APPLICATION_CREDENTIALS=client_secret.json
PROJECT_ID=auto-youtube-factory
ENVIRONMENT=production
DEBUG=true
QUALITY_THRESHOLD=10
VIDEO_FORMAT=mp4
UPLOAD_STRATEGY=auto
EOF
          
          echo "âœ… Created: sample_script.txt, config.json, .env"
          echo "ğŸ“ Script word count: $(wc -w < inputs/sample_script.txt) words"

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # 8. Ø¥ØµÙ„Ø§Ø­ quality_gate.py
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: ğŸ› ï¸ Fix quality_gate.py
        run: |
          echo "=== Fixing quality_gate.py ==="
          
          # Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
          cp agents/quality_gate.py agents/quality_gate.py.backup
          
          # ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø¨Ù…Ù†Ø·Ù‚ Ø£ÙØ¶Ù„
          cat > agents/quality_gate.py << 'EOF'
"""
Quality Gate Module
Checks script quality before video creation
"""

def quality_check(script):
    """
    Check if script meets quality standards
    
    Args:
        script (str): The script text to check
        
    Returns:
        tuple: (bool, str) - (pass/fail, message)
    """
    if not script or not isinstance(script, str):
        return False, "Invalid script: empty or not a string"
    
    # Ø­Ø³Ø§Ø¨ Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª
    words = script.split()
    word_count = len(words)
    
    print(f"ğŸ” Quality Check Analysis:")
    print(f"   ğŸ“ Word count: {word_count}")
    print(f"   ğŸ“ Minimum required: 10 words")
    
    # Ø´Ø±Ø· Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª
    if word_count < 10:
        return False, f"Script too weak: {word_count} words (minimum: 10)"
    
    # Ø´Ø±Ø· Ø§Ù„Ù€ CTA (Call To Action)
    cta_keywords = ['follow', 'subscribe', 'like', 'share', 'comment']
    script_lower = script.lower()
    cta_found = any(keyword in script_lower for keyword in cta_keywords)
    
    print(f"   ğŸ”Š CTA found: {cta_found}")
    
    if not cta_found:
        return False, "No CTA found (add: follow, subscribe, like, share, comment)"
    
    # Ø´Ø±Ø· Ø¥Ø¶Ø§ÙÙŠ: ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ ÙƒÙ„Ù…Ø§Øª Ø±Ø¦ÙŠØ³ÙŠØ©
    quality_keywords = ['you', 'video', 'channel', 'tutorial', 'learn']
    quality_score = sum(1 for keyword in quality_keywords if keyword in script_lower)
    
    print(f"   â­ Quality score: {quality_score}/5")
    
    if quality_score < 2:
        return False, "Script lacks engaging keywords"
    
    # Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø´Ø±ÙˆØ· Ù…ØªØ­Ù‚Ù‚Ø©
    print("   âœ… All quality checks passed!")
    return True, f"Quality passed: {word_count} words, CTA present"

if __name__ == "__main__":
    # Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙˆØ­Ø¯Ø©
    test_scripts = [
        "Short script",
        "This is a longer script with many words for testing purposes. Please follow our channel!",
        "Short"
    ]
    
    for i, script in enumerate(test_scripts):
        print(f"\nTest {i+1}:")
        result, message = quality_check(script)
        print(f"Result: {result}, Message: {message}")
EOF
          
          echo "âœ… Fixed quality_gate.py"
          echo "   - Minimum words: 10 instead of 25"
          echo "   - Multiple CTA keywords"
          echo "   - Added quality scoring"

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # 9. Ø§Ø®ØªØ¨Ø§Ø± Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙˆØ­Ø¯Ø§Øª
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: ğŸ§ª Test all modules
        run: |
          echo "=== Testing all Python modules ==="
          cd /home/runner/work/auto-youtube-factory/auto-youtube-factory
          
          python -c "
import sys
sys.path.insert(0, '.')

print('ğŸ Python version:', sys.version.split()[0])
print('ğŸ“‚ Current directory:', sys.path[0])
print('')

# Ù‚Ø§Ø¦Ù…Ø© Ø¬Ù…ÙŠØ¹ ÙˆØ­Ø¯Ø§Øª agents Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±
modules = [
    ('agents.trend_agent', 'get_trend'),
    ('agents.profit_agent', 'profit_score'),
    ('agents.script_agent', 'generate_script'),
    ('agents.halal_guard', 'halal_check'),
    ('agents.quality_gate', 'quality_check'),
    ('agents.video_agent', 'create_video'),
    ('agents.upload_agent', 'upload'),
    ('agents.analytics_agent', 'get_stats'),
    ('agents.memory_agent', 'remember'),
    ('agents.recycle_agent', 'add_short'),
    ('agents.report_agent', 'generate_report'),
    ('agents.ceo_agent', 'make_decision')
]

for module_name, function_name in modules:
    try:
        module = __import__(module_name, fromlist=[''])
        if hasattr(module, function_name):
            print(f'âœ… {module_name}.{function_name}()')
        else:
            print(f'âš ï¸  {module_name} (no {function_name})')
    except ImportError as e:
        print(f'âŒ {module_name}: {str(e)[:50]}')
    except Exception as e:
        print(f'âš ï¸  {module_name}: {type(e).__name__}')
"

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # 10. Ø§Ø®ØªØ¨Ø§Ø± quality_gate Ø§Ù„Ø¬Ø¯ÙŠØ¯
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: ğŸ¯ Test quality gate
        run: |
          echo "=== Testing quality_gate ==="
          cd /home/runner/work/auto-youtube-factory/auto-youtube-factory
          
          python -c "
import sys
sys.path.insert(0, '.')

from agents.quality_gate import quality_check

# Ø§Ø®ØªØ¨Ø§Ø± Ø³ÙƒØ±ÙŠØ¨Øª Ù‚ØµÙŠØ±
short_script = 'Hello world'
result, msg = quality_check(short_script)
print(f'Short script: {result} - {msg}')

# Ø§Ø®ØªØ¨Ø§Ø± Ø³ÙƒØ±ÙŠØ¨Øª Ø¬ÙŠØ¯
good_script = '''Welcome to our channel! Today we learn Python.
This script has enough words and includes follow for CTA.
Please follow for more tutorials.'''
result, msg = quality_check(good_script)
print(f'Good script: {result} - {msg}')

# Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ
with open('inputs/sample_script.txt', 'r') as f:
    sample_script = f.read()
result, msg = quality_check(sample_script)
print(f'Sample script: {result} - {msg}')
"

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # 11. ØªØ´ØºÙŠÙ„ Supervisor Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: ğŸš€ Run Supervisor
        env:
          GOOGLE_CLIENT_SECRET: ${{ secrets.GOOGLE_CLIENT_SECRET }}
          PYTHONUNBUFFERED: 1
        run: |
          echo "=== STARTING SUPERVISOR ==="
          echo "ğŸ• Time: $(date)"
          echo "ğŸ“ Workspace: $(pwd)"
          
          # Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„ØµØ­ÙŠØ­
          cd /home/runner/work/auto-youtube-factory/auto-youtube-factory
          
          # ØªØ¹ÙŠÙŠÙ† PYTHONPATH
          export PYTHONPATH=/home/runner/work/auto-youtube-factory/auto-youtube-factory:$PYTHONPATH
          
          # ØªØ³Ø¬ÙŠÙ„ Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„
          echo "ğŸš€ Launching: python -m agents.supervisor"
          echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
          
          # ØªØ´ØºÙŠÙ„ Supervisor Ù…Ø¹ ØªØ³Ø¬ÙŠÙ„ ÙƒØ§Ù…Ù„
          set -o pipefail
          python -m agents.supervisor 2>&1 | tee supervisor.log
          
          EXIT_CODE=$?
          
          echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
          echo "ğŸ Supervisor finished with exit code: $EXIT_CODE"
          
          # Ø¥Ø°Ø§ Ù†Ø¬Ø­
          if [ $EXIT_CODE -eq 0 ]; then
            echo "ğŸ‰ SUCCESS: YouTube automation completed!"
            echo "ğŸ“Š Last 10 lines of output:"
            tail -10 supervisor.log
          else
            echo "âš ï¸  Supervisor exited with errors"
            echo "ğŸ” Debug information:"
            
            # Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ Ø§Ù„Ù€ log
            echo "=== ERROR LINES ==="
            grep -i -B2 -A2 "error\|fail\|exception\|traceback\|weak" supervisor.log || echo "No error patterns found"
            
            echo "=== LAST 20 LINES ==="
            tail -20 supervisor.log
            
            # Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ù…Ù„Ù log Ø¢Ø®Ø±
            if [ -f "logs/error.log" ]; then
              echo "=== LOGS/ERROR.LOG ==="
              tail -20 logs/error.log
            fi
          fi
          
          # Ø­ÙØ¸ Ø§Ù„Ù€ log ÙƒÙ€ artifact
          echo "ğŸ“„ Supervisor log saved to supervisor.log"
          
          exit $EXIT_CODE

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # 12. Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù†Ø§ØªØ¬Ø© ÙƒÙ€ Artifacts
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: ğŸ“¤ Upload artifacts
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: youtube-factory-output
          path: |
            supervisor.log
            logs/
            videos/*.mp4
            assets/
          retention-days: 7

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # 13. Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± Ø¨Ø§Ù„Ù†ØªÙŠØ¬Ø©
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: ğŸ“¢ Send notification
        if: always()
        run: |
          echo "=== Workflow Completed ==="
          echo "Job: ${{ job.status }}"
          echo "Workflow: ${{ github.workflow }}"
          echo "Run: ${{ github.run_id }}"
          echo "By: ${{ github.actor }}"
          
          if [ "${{ job.status }}" = "success" ]; then
            echo "âœ… YouTube automation succeeded!"
          else
            echo "âš ï¸  YouTube automation had issues"
            echo "Check logs for details"
          fi

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # 14. ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø¤Ù‚ØªØ©
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - name: ğŸ§¹ Cleanup temporary files
        if: always()
        run: |
          echo "=== Cleaning up ==="
          rm -f client_secret.json.backup 2>/dev/null || true
          echo "âœ… Cleanup completed"
